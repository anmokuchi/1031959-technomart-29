const contactButton=document.querySelector(".contacts-button"),contactPopup=document.querySelector(".modal-contact"),contactClose=contactPopup.querySelector(".modal-close"),contactForm=document.querySelector(".contact-form"),contactUsername=contactPopup.querySelector(".contact-name"),contactEmail=contactPopup.querySelector(".contact-email"),contactIssue=contactPopup.querySelector(".contact-issue");let isStorageSupport=!0,username="",email="";try{username=localStorage.getItem("username"),email=localStorage.getItem("email")}catch(a){isStorageSupport=!1}contactButton.addEventListener("click",function(a){a.preventDefault(),contactPopup.classList.add("modal-show"),username&&email?(contactUsername.value=username,contactEmail.value=email,contactIssue.focus()):username&&!email?(contactUsername.value=username,contactEmail.focus()):email&&!username?(contactEmail.value=email,contactUsername.focus()):contactUsername.focus()}),contactClose.addEventListener("click",function(a){a.preventDefault(),contactPopup.classList.remove("modal-show"),contactPopup.classList.remove("modal-error")}),contactForm.addEventListener("submit",function(a){contactUsername.value&&contactEmail.value&&contactIssue.value?isStorageSupport&&(localStorage.setItem("username",contactUsername.value),localStorage.setItem("email",contactEmail.value)):(a.preventDefault(),contactPopup.classList.remove("modal-error"),contactPopup.offsetWidth=contactPopup.offsetWidth,contactPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){"Escape"===a.key&&contactPopup.classList.contains("modal-show")&&(a.preventDefault(),contactPopup.classList.remove("modal-show"),contactPopup.classList.remove("modal-error"))});
